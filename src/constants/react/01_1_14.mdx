---
title: "useRef"
description: "ë Œë”ë§ì— í•„ìš”í•˜ì§€ ì•Šì€ ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” React Hook"
---

import { Alert, AlertTitle, AlertDescription } from "@/components/ui/alert"
import { Card, CardHeader, CardTitle, CardDescription, CardContent } from "@/components/ui/card"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"

<Card className="mb-6">
  <CardHeader>
    <CardTitle>useRefë€?</CardTitle>
    <CardDescription>
      ë Œë”ë§ì— ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” React Hookì…ë‹ˆë‹¤.
      ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•ŠëŠ” ê°’ì„ ì €ì¥í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.
    </CardDescription>
  </CardHeader>
  <CardContent>
    ```tsx
    const ref = useRef(initialValue)
    ```
  </CardContent>
</Card>

## API ë ˆí¼ëŸ°ìŠ¤

### ë§¤ê°œë³€ìˆ˜

<Card className="mb-4">
  <CardContent className="space-y-4">
    - **initialValue**: ref ê°ì²´ì˜ current ì†ì„±ì˜ ì´ˆê¸°ê°’. ì–´ë–¤ íƒ€ì…ì˜ ê°’ì´ë“  ê°€ëŠ¥í•©ë‹ˆë‹¤.
  </CardContent>
</Card>

### ë°˜í™˜ê°’

<Card className="mb-4">
  <CardContent className="space-y-4">
    - ë‹¨ì¼ ì†ì„± **current**ë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë°˜í™˜
    - ì´ˆê¸°ê°’ì€ ì „ë‹¬í•œ initialValueë¡œ ì„¤ì •ë¨
    - ì´í›„ ë Œë”ë§ì—ì„œë„ ë™ì¼í•œ ê°ì²´ë¥¼ ë°˜í™˜
  </CardContent>
</Card>

## ê¸°ë³¸ ì‚¬ìš©ë²•

### ê°’ ì°¸ì¡°í•˜ê¸°

<Tabs defaultValue="counter" className="w-full">
  <TabsList>
    <TabsTrigger value="counter">í´ë¦­ ì¹´ìš´í„°</TabsTrigger>
    <TabsTrigger value="timer">íƒ€ì´ë¨¸</TabsTrigger>
  </TabsList>
  
  <TabsContent value="counter">
    ```tsx
    function Counter() {
      const countRef = useRef(0);

      function handleClick() {
        countRef.current = countRef.current + 1;
        alert(`${countRef.current}ë²ˆ í´ë¦­í–ˆìŠµë‹ˆë‹¤!`);
      }

      return (
        <button onClick={handleClick}>
          í´ë¦­í•˜ì„¸ìš”!
        </button>
      );
    }
    ```
  </TabsContent>
  
  <TabsContent value="timer">
    ```tsx
    function Stopwatch() {
      const [startTime, setStartTime] = useState(null);
      const [now, setNow] = useState(null);
      const intervalRef = useRef(null);

      function handleStart() {
        setStartTime(Date.now());
        setNow(Date.now());

        clearInterval(intervalRef.current);
        intervalRef.current = setInterval(() => {
          setNow(Date.now());
        }, 10);
      }

      function handleStop() {
        clearInterval(intervalRef.current);
      }

      return (
        <>
          <button onClick={handleStart}>ì‹œì‘</button>
          <button onClick={handleStop}>ì •ì§€</button>
        </>
      );
    }
    ```
  </TabsContent>
</Tabs>

## useRef vs useState

<Card className="mb-6">
  <CardHeader>
    <CardTitle>ì–¸ì œ useRefë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?</CardTitle>
  </CardHeader>
  <CardContent>
    useRefëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ì í•©í•©ë‹ˆë‹¤:
    
    1. ë Œë”ë§ ì‚¬ì´ì— ì •ë³´ë¥¼ ìœ ì§€í•´ì•¼ í•  ë•Œ
    2. ê°’ ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ
    3. ê° ì»´í¬ë„ŒíŠ¸ ì¸ìŠ¤í„´ìŠ¤ì— ë¡œì»¬ ê°’ì´ í•„ìš”í•  ë•Œ

    ```tsx
    // âœ… ref ì‚¬ìš©ì´ ì ì ˆí•œ ê²½ìš°
    const intervalRef = useRef(null);
    
    // âœ… state ì‚¬ìš©ì´ ì ì ˆí•œ ê²½ìš°
    const [count, setCount] = useState(0);
    ```
  </CardContent>
</Card>

<Alert className="mt-6">
  <AlertTitle>ì£¼ì˜ì‚¬í•­</AlertTitle>
  <AlertDescription>
    1. ref.currentëŠ” ë³€ê²½ ê°€ëŠ¥í•˜ì§€ë§Œ, ë Œë”ë§ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ëŠ” ë³€ê²½í•˜ì§€ ë§ˆì„¸ìš”.
    2. ref.currentë¥¼ ë³€ê²½í•´ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    3. ë Œë”ë§ ì¤‘ì—ëŠ” ref.currentë¥¼ ì½ê±°ë‚˜ ì“°ì§€ ë§ˆì„¸ìš”.
  </AlertDescription>
</Alert>

## DOM ìš”ì†Œ ì ‘ê·¼í•˜ê¸°

<Card className="mb-6">
  <CardHeader>
    <CardTitle>ê¸°ë³¸ ì‚¬ìš©ë²•</CardTitle>
  </CardHeader>
  <CardContent>
    ```tsx
    function TextInput() {
      // 1. ref ê°ì²´ ìƒì„±
      const inputRef = useRef(null);
      
      // 2. DOM ìš”ì†Œì— ref ì†ì„±ìœ¼ë¡œ ì—°ê²°
      return (
        <>
          <input ref={inputRef} />
          <button onClick={() => {
            // 3. DOM ë…¸ë“œ ì ‘ê·¼
            inputRef.current.focus();
          }}>
            ì…ë ¥ë€ í¬ì»¤ìŠ¤
          </button>
        </>
      );
    }
    ```
  </CardContent>
</Card>

## ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€

<Tabs defaultValue="focus" className="w-full">
  <TabsList>
    <TabsTrigger value="focus">í¬ì»¤ìŠ¤ ê´€ë¦¬</TabsTrigger>
    <TabsTrigger value="scroll">ìŠ¤í¬ë¡¤ ì œì–´</TabsTrigger>
    <TabsTrigger value="media">ë¯¸ë””ì–´ ì œì–´</TabsTrigger>
  </TabsList>
  
  <TabsContent value="focus">
    ```tsx
    function Form() {
      const inputRef = useRef(null);

      function handleClick() {
        inputRef.current.focus();
      }

      return (
        <>
          <input ref={inputRef} />
          <button onClick={handleClick}>
            ì…ë ¥ë€ í¬ì»¤ìŠ¤
          </button>
        </>
      );
    }
    ```
  </TabsContent>
  
  <TabsContent value="scroll">
    ```tsx
    function ScrollableList() {
      const listRef = useRef(null);

      function scrollToItem(index) {
        const items = listRef.current.querySelectorAll('li');
        items[index].scrollIntoView({
          behavior: 'smooth',
          block: 'nearest'
        });
      }

      return (
        <ul ref={listRef}>
          {/* ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œë“¤ */}
        </ul>
      );
    }
    ```
  </TabsContent>
  
  <TabsContent value="media">
    ```tsx
    function VideoPlayer() {
      const [isPlaying, setIsPlaying] = useState(false);
      const videoRef = useRef(null);

      function handlePlayPause() {
        if (isPlaying) {
          videoRef.current.pause();
        } else {
          videoRef.current.play();
        }
        setIsPlaying(!isPlaying);
      }

      return (
        <video ref={videoRef} src="/video.mp4" />
      );
    }
    ```
  </TabsContent>
</Tabs>

## ì»´í¬ë„ŒíŠ¸ì— ref ì „ë‹¬í•˜ê¸°

<Card className="mb-6">
  <CardContent>
    ```tsx
    // ì»¤ìŠ¤í…€ ì…ë ¥ ì»´í¬ë„ŒíŠ¸
    const MyInput = forwardRef((props, ref) => {
      return <input {...props} ref={ref} />;
    });

    // ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
    function Form() {
      const inputRef = useRef(null);

      function handleClick() {
        inputRef.current.focus();
      }

      return (
        <>
          <MyInput ref={inputRef} />
          <button onClick={handleClick}>
            í¬ì»¤ìŠ¤
          </button>
        </>
      );
    }
    ```
  </CardContent>
</Card>

<Alert className="mt-6">
  <AlertTitle>forwardRef ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­</AlertTitle>
  <AlertDescription>
    1. ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ì— refë¥¼ ì „ë‹¬í•˜ë ¤ë©´ ë°˜ë“œì‹œ forwardRefë¡œ ê°ì‹¸ì•¼ í•©ë‹ˆë‹¤.
    2. refëŠ” ëª¨ë“  ì¢…ë¥˜ì˜ ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆì§€ë§Œ, DOM ìš”ì†Œë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¼ë°˜ì ì…ë‹ˆë‹¤.
    3. ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ DOM ìš”ì†Œë¥¼ ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”.
  </AlertDescription>
</Alert>

## ref ì½˜í…ì¸  ìƒì„± ìµœì í™”

### ì´ˆê¸°í™” ì§€ì—°í•˜ê¸°

<Card className="mb-6">
  <CardHeader>
    <CardTitle>ë¹„ìš©ì´ í° ê°ì²´ì˜ ìƒì„± ìµœì í™”</CardTitle>
  </CardHeader>
  <CardContent>
    ```tsx
    // ğŸ”´ í”¼í•´ì•¼ í•  ë°©ë²•: ë§¤ ë Œë”ë§ë§ˆë‹¤ ìƒˆ ê°ì²´ ìƒì„±
    function Video() {
      const playerRef = useRef(new VideoPlayer());
      // ...
    }

    // âœ… ê¶Œì¥í•˜ëŠ” ë°©ë²•: í•„ìš”í•  ë•Œë§Œ ìƒì„±
    function Video() {
      const playerRef = useRef(null);
      
      if (playerRef.current === null) {
        playerRef.current = new VideoPlayer();
      }
      // ...
    }
    ```
  </CardContent>
</Card>

### null ì²´í¬ í”¼í•˜ê¸°

<Tabs defaultValue="basic" className="w-full">
  <TabsList>
    <TabsTrigger value="basic">ê¸°ë³¸ íŒ¨í„´</TabsTrigger>
    <TabsTrigger value="getter">ê²Œí„° íŒ¨í„´</TabsTrigger>
  </TabsList>
  
  <TabsContent value="basic">
    ```tsx
    function VideoPlayer() {
      const playerRef = useRef<VideoPlayer | null>(null);
      
      // ë§¤ë²ˆ null ì²´í¬ í•„ìš”
      function handlePlay() {
        if (playerRef.current !== null) {
          playerRef.current.play();
        }
      }
    }
    ```
  </TabsContent>
  
  <TabsContent value="getter">
    ```tsx
    function VideoPlayer() {
      const playerRef = useRef<VideoPlayer | null>(null);
      
      // ê²Œí„° í•¨ìˆ˜ë¥¼ í†µí•´ null ì²´í¬ ìº¡ìŠí™”
      function getPlayer() {
        if (playerRef.current !== null) {
          return playerRef.current;
        }
        const player = new VideoPlayer();
        playerRef.current = player;
        return player;
      }

      function handlePlay() {
        getPlayer().play(); // null ì²´í¬ ë¶ˆí•„ìš”
      }
    }
    ```
  </TabsContent>
</Tabs>

## ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°

### ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ì— ref ì „ë‹¬ ì‹¤íŒ¨

```tsx
// ğŸ”´ ì‘ë™í•˜ì§€ ì•ŠìŒ
function MyInput(props) {
  return <input {...props} />;
}

// âœ… forwardRefë¡œ í•´ê²°
const MyInput = forwardRef((props, ref) => {
  return <input {...props} ref={ref} />;
});
```

### ë Œë”ë§ ì¤‘ ref ì‚¬ìš©

<Alert className="mb-6" variant="destructive">
  <AlertTitle>ë Œë”ë§ ì¤‘ ref ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­</AlertTitle>
  <AlertDescription>
    ë Œë”ë§ ì¤‘ì—ëŠ” ref.currentë¥¼ ì½ê±°ë‚˜ ì“°ì§€ ë§ˆì„¸ìš”.
    ```tsx
    // ğŸ”´ ì˜ëª»ëœ ì‚¬ìš©
    function MyComponent() {
      const myRef = useRef(0);
      // ë Œë”ë§ ì¤‘ ref ìˆ˜ì •
      myRef.current = 123;
      // ë Œë”ë§ ì¤‘ ref ì½ê¸°
      return <div>{myRef.current}</div>;
    }

    // âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
    function MyComponent() {
      const myRef = useRef(0);
      useEffect(() => {
        myRef.current = 123;
      });
      function handleClick() {
        console.log(myRef.current);
      }
    }
    ```
  </AlertDescription>
</Alert>

## ëª¨ë²” ì‚¬ë¡€

<Card className="mb-6">
  <CardContent className="space-y-4">
    1. **ref ì‚¬ìš© ëª©ì  ëª…í™•íˆ í•˜ê¸°**:
       ```tsx
       // ì˜ë„ë¥¼ ëª…í™•íˆ í•˜ëŠ” ì´ë¦„ ì‚¬ìš©
       const inputRef = useRef(null);
       const timeoutRef = useRef(null);
       const prevValueRef = useRef(null);
       ```

    2. **í´ë¦°ì—… ì²˜ë¦¬ ìŠì§€ ì•Šê¸°**:
       ```tsx
       useEffect(() => {
         const timerId = setInterval(() => {}, 1000);
         timeoutRef.current = timerId;
         return () => clearInterval(timerId);
       }, []);
       ```

    3. **ì ì ˆí•œ ì´ˆê¸°í™” ì‹œì  ì„ íƒ**:
       ```tsx
       const valueRef = useRef(null);
       
       // í•„ìš”í•œ ì‹œì ì— ì´ˆê¸°í™”
       useEffect(() => {
         valueRef.current = expensiveOperation();
       }, []);
       ```
  </CardContent>
</Card>

<Alert className="mt-6">
  <AlertTitle>ì„±ëŠ¥ ìµœì í™” íŒ</AlertTitle>
  <AlertDescription>
    1. ë¶ˆí•„ìš”í•œ ref ìƒì„±ì„ í”¼í•˜ì„¸ìš”.
    2. í° ê°ì²´ëŠ” ì§€ì—° ì´ˆê¸°í™”ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    3. ë Œë”ë§ì— ì‚¬ìš©ë˜ëŠ” ê°’ì€ stateë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    4. ref ì½œë°± ëŒ€ì‹  useRef + useEffect ì¡°í•©ì„ ê³ ë ¤í•˜ì„¸ìš”.
  </AlertDescription>
</Alert>